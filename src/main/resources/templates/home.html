<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="Email Service Page" content="Form that allows you send emails"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<title>SMTP Service</title>
</head>
<body>
<hr>
        <!-- header -->
        <div th:replace="~{header :: header}">...</div>
        <!-- //header -->
<hr>
<hr>

<div th:if="${submissionSuccess}" class="alert alert-success alert-dismissible fade show" role="alert">
    Submission successful! <span th:text="${messageResponse}"></span>
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
<div th:if="${submissionFailed}" class="alert alert-danger alert-dismissible fade show" role="alert">
    <span th:text="${messageResponse}"></span> Submission failed. Please check your input and try again.
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>




<div class="container">
            
        <div class="jumbotron">
            <h1 class="display-3">SMTP Service</h1>
            <p class="lead">This service would allow you send emails for free using different from emails. </p>
            <hr class="my-2">
            <p>Press the button below to see available emails</p>
            <p class="lead">
                <a id="scrollButton" class="btn btn-primary btn-lg"  role="button">Move to Form</a>
            </p>
        </div>




    </div>
<!--        form-->
<div class="container mt-5">
    <h1>Email Form</h1>
    <form th:action="@{/form}" th:object="${emailModel}" method="post">
        <div class="mb-3">
            <label for="fromEmail" class="form-label"  >From Email</label >
                   <select class="form-select" aria-labelledby="fromEmailDropdown" name="fromEmail"  th:field="*{fromEmail}"  >
                    <option selected value="NA">Open this select menu</option>
                    <div th:each="email : ${ListOfEmails}">
                        <option  th:text="${email}"  th:value="${email}"></option>
                    </div>


                  </select>

        </div>
        <div class="mb-3">
            <label for="toEmail" class="form-label"  >To Email</label>
            <input th:field="*{toEmail}" type="email" class="form-control" id="toEmail" name="toEmail" required>
        </div>
        <div class="mb-3">
            <label for="subject" class="form-label"  >Subject</label>
            <input th:field="*{subject}" type="text" class="form-control" id="subject" name="subject" required>
        </div>
        <div class="mb-3">
            <label for="messageText" class="form-label" >Message</label>
            <textarea th:field="*{messageText}" class="form-control" id="messageText" name="messageText" rows="5" required></textarea>
        </div>
        <div class="mb-3 form-check">
            <input type="checkbox" class="form-check-input" id="htmlEnabled" name="htmlEnabled" th:field="*{htmlEnabled}">
            <label class="form-check-label" for="htmlEnabled" >Enable HTML</label>
        </div>
        <button type="submit" class="btn btn-primary">Send Email</button>
    </form>
</div>


<hr>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script  type="text/javascript"  th:src="@{/js/scroll-down.js}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<!--        scroll down javascript    -->
<script>
document.addEventListener("DOMContentLoaded", function () {
    var scrollButton = document.getElementById("scrollButton");
    scrollButton.addEventListener("click", function () {
        // Scroll to the end of the page
        window.scrollTo(0, document.body.scrollHeight);
    });
});</script>
</body>
</html>